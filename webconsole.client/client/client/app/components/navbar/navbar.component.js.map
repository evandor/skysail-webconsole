{"version":3,"sources":["app/components/navbar/navbar.component.ts"],"names":[],"mappings":"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","file":"app/components/navbar/navbar.component.js","sourcesContent":["import {Component} from \"@angular/core\";\nimport {ROUTER_DIRECTIVES, ActivatedRoute, Router} from \"@angular/router\";\nimport {BackendServices} from '../../services/backend.service';\nimport {AppGlobals} from '../../services/appglobals.service';\nimport {BreadcrumbsService} from '../../services/breadcrumbs.service';\n\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {Breadcrumbs} from '../../components/navbar/breadcrumbs.component';\nimport {Breadcrumb} from '../navbar/breadcrumb';\n\n@Component({\n    selector: 'navbar',\n    directives: [ROUTER_DIRECTIVES, Breadcrumbs],\n    providers: [BackendServices],\n    pipes: [],\n    templateUrl: 'app/html/navbar/navbar.template.html'\n})\nexport class Navbar {\n\n    res;\n\n    currentMenuItem: string = \"Bundles\";\n\n    private loading = false;\n\n    subscription: Subscription;\n\n    breadcrumbs: Breadcrumb[];\n\n    bundleIdList: string[] = [];\n    currentId = \"0\";\n    private sub: any;\n    private routeParams: any;\n    private backendUrl: string;\n    private prevExistsFlag: boolean = false;\n\n    constructor(\n        private _router: Router,\n        private _backend: BackendServices,\n        private _appGlobals: AppGlobals,\n        private _breadcrumbsService: BreadcrumbsService\n    ) {\n\n        this._appGlobals._isLoading.subscribe(value => this.loading = value);\n\n        this._appGlobals._bundleIdList.subscribe(val => this.bundleIdList = val);\n        this._appGlobals._routeParams.subscribe(val => this.routeParams = val);\n        this._appGlobals._backendUrl.subscribe(val => this.backendUrl = val);\n\n        this._router.events.subscribe(() => {\n            _breadcrumbsService.clear();\n            _breadcrumbsService.add(new Breadcrumb(['/bundles'], '<i class=\"fa fa-home\" aria-hidden=\"true\"></i>'));\n            var val = this._router.url;\n            var segements = val.split('/');\n            segements.forEach(segment => {\n                if (segment != '') {\n                    _breadcrumbsService.add(new Breadcrumb([segment], segment));\n                }\n            });\n            this.breadcrumbs = _breadcrumbsService.getBreadcrumbs();\n        });\n\n    }\n\n    isLoading(): boolean {\n        return this.loading;\n    }\n\n    getBundlesMenuTitle() {\n        var bundlesCount: number;\n        //this._backend.getBundles().subscribe(res => bundlesCount = res.length);\n        return \"Bundles\";//(\" + bundlesCount + \")\";\n    }\n\n    checkActive(menuItem: string) {\n        if (menuItem == this.currentMenuItem) {\n            return \"nav-item active\";\n        }\n        return \"nav-item\";\n    }\n\n    onSubmit() {\n        this._backend.createSnapshot().subscribe(res => this.res = res);\n    }\n\n    get authenticated() {\n        return true;//this.authService.isAuthenticated();\n    }\n\n    doLogin() {\n        //this.authService.doLogin();\n    }\n\n    doLogout() {\n        //this.authService.doLogout();\n    }\n\n    get userName() {\n        return \"admin\";//this.authService.getUserName();\n    }\n\n    get page() {\n        return \"\";//this.location.path().split('/')[1];\n    }\n\n    next() {\n        this._router.navigate(['/bundles', this.getCurrentBundleIndex(this.routeParams['id']) + 1]);\n    }\n\n    prev() {\n        this._router.navigate(['/bundles', this.getCurrentBundleIndex(this.routeParams['id']) - 1]);\n    }\n\n    rawData() {\n        return this.backendUrl + \"backend/v1/bundles\";\n    }\n\n    getCurrentBundleIndex(routeParamId): number {\n        var index = 0;\n        var goto = 0;\n        this.bundleIdList.forEach(id => {\n            if (id == routeParamId) {\n                goto = index;\n            }\n            index += 1;\n        });\n        return goto;\n    }\n}\n\n"],"sourceRoot":"/source/"}