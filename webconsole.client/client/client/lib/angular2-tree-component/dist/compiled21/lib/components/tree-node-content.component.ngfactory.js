/**
 * This file is generated by the Angular 2 template compiler.
 * Do not edit.
 */
/* tslint:disable */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var import1 = require('@angular/core/src/linker/view');
var import2 = require('@angular/core/src/linker/element');
var import3 = require('../../../lib/components/tree-node-content.component');
var import4 = require('@angular/core/src/linker/view_utils');
var import6 = require('@angular/core/src/linker/view_type');
var import7 = require('@angular/core/src/change_detection/change_detection');
var import8 = require('@angular/core/src/metadata/view');
var import9 = require('@angular/core/src/linker/component_factory');
var import10 = require('@angular/common/src/directives/ng_if');
var import11 = require('@angular/common/src/directives/ng_template_outlet');
var import12 = require('@angular/core/src/linker/template_ref');
var renderType_TreeNodeContent_Host = null;
var _View_TreeNodeContent_Host0 = (function (_super) {
    __extends(_View_TreeNodeContent_Host0, _super);
    function _View_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent_Host0, renderType_TreeNodeContent_Host, import6.ViewType.HOST, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent_Host0.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.selectOrCreateHostElement('TreeNodeContent', rootSelector, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._el_0);
        var compView_0 = viewFactory_TreeNodeContent0(this.viewUtils, this.injector(0), this._appEl_0);
        this._TreeNodeContent_0_4 = new import3.TreeNodeContent(compView_0.ref);
        this._appEl_0.initComponent(this._TreeNodeContent_0_4, [], compView_0);
        compView_0.create(this._TreeNodeContent_0_4, this.projectableNodes, null);
        this.init([].concat([this._el_0]), [this._el_0], [], []);
        return this._appEl_0;
    };
    _View_TreeNodeContent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import3.TreeNodeContent) && (0 === requestNodeIndex))) {
            return this._TreeNodeContent_0_4;
        }
        return notFoundResult;
    };
    return _View_TreeNodeContent_Host0;
}(import1.AppView));
function viewFactory_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_TreeNodeContent_Host === null)) {
        (renderType_TreeNodeContent_Host = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, [], {}));
    }
    return new _View_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl);
}
exports.TreeNodeContentNgFactory = new import9.ComponentFactory('TreeNodeContent', viewFactory_TreeNodeContent_Host0, import3.TreeNodeContent);
var styles_TreeNodeContent = [];
var renderType_TreeNodeContent = null;
var _View_TreeNodeContent0 = (function (_super) {
    __extends(_View_TreeNodeContent0, _super);
    function _View_TreeNodeContent0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent0, renderType_TreeNodeContent, import6.ViewType.COMPONENT, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent0.prototype.createInternal = function (rootSelector) {
        var parentRenderNode = this.renderer.createViewRoot(this.declarationAppElement.nativeElement);
        this._anchor_0 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._anchor_0);
        this._TemplateRef_0_5 = new import12.TemplateRef_(this._appEl_0, viewFactory_TreeNodeContent1);
        this._NgIf_0_6 = new import10.NgIf(this._appEl_0.vcRef, this._TemplateRef_0_5);
        this._text_1 = this.renderer.createText(parentRenderNode, '\n  ', null);
        this._anchor_2 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_2 = new import2.AppElement(2, null, this, this._anchor_2);
        this._TemplateRef_2_5 = new import12.TemplateRef_(this._appEl_2, viewFactory_TreeNodeContent2);
        this._NgTemplateOutlet_2_6 = new import11.NgTemplateOutlet(this._appEl_2.vcRef);
        this._expr_0 = import7.UNINITIALIZED;
        this._map_0 = import4.pureProxy1(function (p0) {
            return { $implicit: p0 };
        });
        this._expr_1 = import7.UNINITIALIZED;
        this._expr_2 = import7.UNINITIALIZED;
        this.init([], [
            this._anchor_0,
            this._text_1,
            this._anchor_2
        ], [], []);
        return null;
    };
    _View_TreeNodeContent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import12.TemplateRef) && (0 === requestNodeIndex))) {
            return this._TemplateRef_0_5;
        }
        if (((token === import10.NgIf) && (0 === requestNodeIndex))) {
            return this._NgIf_0_6;
        }
        if (((token === import12.TemplateRef) && (2 === requestNodeIndex))) {
            return this._TemplateRef_2_5;
        }
        if (((token === import11.NgTemplateOutlet) && (2 === requestNodeIndex))) {
            return this._NgTemplateOutlet_2_6;
        }
        return notFoundResult;
    };
    _View_TreeNodeContent0.prototype.detectChangesInternal = function (throwOnChange) {
        var changes = null;
        var currVal_0 = !this.context.treeNodeContentTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_0, currVal_0)) {
            this._NgIf_0_6.ngIf = currVal_0;
            this._expr_0 = currVal_0;
        }
        changes = null;
        var currVal_1 = this._map_0(this.context.node);
        if (import4.checkBinding(throwOnChange, this._expr_1, currVal_1)) {
            this._NgTemplateOutlet_2_6.ngOutletContext = currVal_1;
            if ((changes === null)) {
                (changes = {});
            }
            changes['ngOutletContext'] = new import7.SimpleChange(this._expr_1, currVal_1);
            this._expr_1 = currVal_1;
        }
        var currVal_2 = this.context.treeNodeContentTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_2, currVal_2)) {
            this._NgTemplateOutlet_2_6.ngTemplateOutlet = currVal_2;
            if ((changes === null)) {
                (changes = {});
            }
            changes['ngTemplateOutlet'] = new import7.SimpleChange(this._expr_2, currVal_2);
            this._expr_2 = currVal_2;
        }
        if ((changes !== null)) {
            this._NgTemplateOutlet_2_6.ngOnChanges(changes);
        }
        this.detectContentChildrenChanges(throwOnChange);
        this.detectViewChildrenChanges(throwOnChange);
    };
    return _View_TreeNodeContent0;
}(import1.AppView));
function viewFactory_TreeNodeContent0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_TreeNodeContent === null)) {
        (renderType_TreeNodeContent = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, styles_TreeNodeContent, {}));
    }
    return new _View_TreeNodeContent0(viewUtils, parentInjector, declarationEl);
}
exports.viewFactory_TreeNodeContent0 = viewFactory_TreeNodeContent0;
var _View_TreeNodeContent1 = (function (_super) {
    __extends(_View_TreeNodeContent1, _super);
    function _View_TreeNodeContent1(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent1, renderType_TreeNodeContent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent1.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.renderer.createElement(null, 'span', null);
        this._text_1 = this.renderer.createText(this._el_0, '', null);
        this._expr_0 = import7.UNINITIALIZED;
        this.init([].concat([this._el_0]), [
            this._el_0,
            this._text_1
        ], [], []);
        return null;
    };
    _View_TreeNodeContent1.prototype.detectChangesInternal = function (throwOnChange) {
        this.detectContentChildrenChanges(throwOnChange);
        var currVal_0 = import4.interpolate(1, '', this.parent.context.node.displayField, '');
        if (import4.checkBinding(throwOnChange, this._expr_0, currVal_0)) {
            this.renderer.setText(this._text_1, currVal_0);
            this._expr_0 = currVal_0;
        }
        this.detectViewChildrenChanges(throwOnChange);
    };
    return _View_TreeNodeContent1;
}(import1.AppView));
function viewFactory_TreeNodeContent1(viewUtils, parentInjector, declarationEl) {
    return new _View_TreeNodeContent1(viewUtils, parentInjector, declarationEl);
}
var _View_TreeNodeContent2 = (function (_super) {
    __extends(_View_TreeNodeContent2, _super);
    function _View_TreeNodeContent2(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent2, renderType_TreeNodeContent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent2.prototype.createInternal = function (rootSelector) {
        this.init([], [], [], []);
        return null;
    };
    return _View_TreeNodeContent2;
}(import1.AppView));
function viewFactory_TreeNodeContent2(viewUtils, parentInjector, declarationEl) {
    return new _View_TreeNodeContent2(viewUtils, parentInjector, declarationEl);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS1ub2RlLWNvbnRlbnQuY29tcG9uZW50Lm5nZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NvbXBpbGVkMjEvbGliL2NvbXBvbmVudHMvdHJlZS1ub2RlLWNvbnRlbnQuY29tcG9uZW50Lm5nZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDRixvQkFBb0I7Ozs7Ozs7QUFHckIsSUFBWSxPQUFPLFdBQU0sK0JBQStCLENBQUMsQ0FBQTtBQUN6RCxJQUFZLE9BQU8sV0FBTSxrQ0FBa0MsQ0FBQyxDQUFBO0FBQzVELElBQVksT0FBTyxXQUFNLHFEQUFxRCxDQUFDLENBQUE7QUFDL0UsSUFBWSxPQUFPLFdBQU0scUNBQXFDLENBQUMsQ0FBQTtBQUUvRCxJQUFZLE9BQU8sV0FBTSxvQ0FBb0MsQ0FBQyxDQUFBO0FBQzlELElBQVksT0FBTyxXQUFNLHFEQUFxRCxDQUFDLENBQUE7QUFDL0UsSUFBWSxPQUFPLFdBQU0saUNBQWlDLENBQUMsQ0FBQTtBQUMzRCxJQUFZLE9BQU8sV0FBTSw0Q0FBNEMsQ0FBQyxDQUFBO0FBQ3RFLElBQVksUUFBUSxXQUFNLHNDQUFzQyxDQUFDLENBQUE7QUFDakUsSUFBWSxRQUFRLFdBQU0sbURBQW1ELENBQUMsQ0FBQTtBQUM5RSxJQUFZLFFBQVEsV0FBTSx1Q0FBdUMsQ0FBQyxDQUFBO0FBQ2xFLElBQUksK0JBQStCLEdBQWdDLElBQVksQ0FBQztBQUNoRjtJQUEwQywrQ0FBb0I7SUFJNUQscUNBQVksU0FBMkIsRUFBQyxjQUErQixFQUFDLGFBQWdDO1FBQ3RHLGtCQUFNLDJCQUEyQixFQUFDLCtCQUErQixFQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUMsYUFBYSxFQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzSyxDQUFDO0lBQ0Qsb0RBQWMsR0FBZCxVQUFl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LENBQUMsQ0FBQztJQUNySyxDQUFDO0lBQ0QsK0NBQWMsR0FBZCxVQUFlLFlBQW1CO1FBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFBWSxFQUFFLEVBQVksRUFBRSxFQUFZLEVBQUUsRUFBWSxDQUFDLENBQUM7UUFDbkUsTUFBTSxDQUFFLElBQVksQ0FBQztJQUN2QixDQUFDO0lBQ0gsNkJBQUM7QUFBRCxDQUFDLEFBUkQsQ0FBcUMsT0FBTyxDQUFDLE9BQU8sR0FRbkQ7QUFDRCxzQ0FBc0MsU0FBMkIsRUFBQyxjQUErQixFQUFDLGFBQWdDO0lBQ2hJLE1BQU0sQ0FBQyxJQUFJLHNCQUFzQixDQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUMsYUFBYSxDQUFDLENBQUM7QUFDNUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSB0aGUgQW5ndWxhciAyIHRlbXBsYXRlIGNvbXBpbGVyLlxuICogRG8gbm90IGVkaXQuXG4gKi9cbiAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuXG5pbXBvcnQgKiBhcyBpbXBvcnQwIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL3JlbmRlci9hcGknO1xuaW1wb3J0ICogYXMgaW1wb3J0MSBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlldyc7XG5pbXBvcnQgKiBhcyBpbXBvcnQyIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci9lbGVtZW50JztcbmltcG9ydCAqIGFzIGltcG9ydDMgZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMvdHJlZS1ub2RlLWNvbnRlbnQuY29tcG9uZW50JztcbmltcG9ydCAqIGFzIGltcG9ydDQgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXdfdXRpbHMnO1xuaW1wb3J0ICogYXMgaW1wb3J0NSBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9kaS9pbmplY3Rvcic7XG5pbXBvcnQgKiBhcyBpbXBvcnQ2IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3X3R5cGUnO1xuaW1wb3J0ICogYXMgaW1wb3J0NyBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgaW1wb3J0OCBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9tZXRhZGF0YS92aWV3JztcbmltcG9ydCAqIGFzIGltcG9ydDkgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL2NvbXBvbmVudF9mYWN0b3J5JztcbmltcG9ydCAqIGFzIGltcG9ydDEwIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ19pZic7XG5pbXBvcnQgKiBhcyBpbXBvcnQxMSBmcm9tICdAYW5ndWxhci9jb21tb24vc3JjL2RpcmVjdGl2ZXMvbmdfdGVtcGxhdGVfb3V0bGV0JztcbmltcG9ydCAqIGFzIGltcG9ydDEyIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci90ZW1wbGF0ZV9yZWYnO1xudmFyIHJlbmRlclR5cGVfVHJlZU5vZGVDb250ZW50X0hvc3Q6aW1wb3J0MC5SZW5kZXJDb21wb25lbnRUeXBlID0gKG51bGwgYXMgYW55KTtcbmNsYXNzIF9WaWV3X1RyZWVOb2RlQ29udGVudF9Ib3N0MCBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICAvKnByaXZhdGUqLyBfYXBwRWxfMDppbXBvcnQyLkFwcEVsZW1lbnQ7XG4gIF9UcmVlTm9kZUNvbnRlbnRfMF80OmltcG9ydDMuVHJlZU5vZGVDb250ZW50O1xuICBjb25zdHJ1Y3Rvcih2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCkge1xuICAgIHN1cGVyKF9WaWV3X1RyZWVOb2RlQ29udGVudF9Ib3N0MCxyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudF9Ib3N0LGltcG9ydDYuVmlld1R5cGUuSE9TVCx2aWV3VXRpbHMscGFyZW50SW5qZWN0b3IsZGVjbGFyYXRpb25FbCxpbXBvcnQ3LkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzKTtcbiAgfVxuICBjcmVhdGVJbnRlcm5hbChyb290U2VsZWN0b3I6c3RyaW5nKTppbXBvcnQyLkFwcEVsZW1lbnQge1xuICAgIHRoaXMuX2VsXzAgPSB0aGlzLnNlbGVjdE9yQ3JlYXRlSG9zdEVsZW1lbnQoJ1RyZWVOb2RlQ29udGVudCcscm9vdFNlbGVjdG9yLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FwcEVsXzAgPSBuZXcgaW1wb3J0Mi5BcHBFbGVtZW50KDAsKG51bGwgYXMgYW55KSx0aGlzLHRoaXMuX2VsXzApO1xuICAgIHZhciBjb21wVmlld18wOmFueSA9IHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudDAodGhpcy52aWV3VXRpbHMsdGhpcy5pbmplY3RvcigwKSx0aGlzLl9hcHBFbF8wKTtcbiAgICB0aGlzLl9UcmVlTm9kZUNvbnRlbnRfMF80ID0gbmV3IGltcG9ydDMuVHJlZU5vZGVDb250ZW50KGNvbXBWaWV3XzAucmVmKTtcbiAgICB0aGlzLl9hcHBFbF8wLmluaXRDb21wb25lbnQodGhpcy5fVHJlZU5vZGVDb250ZW50XzBfNCwoW10gYXMgYW55W10pLGNvbXBWaWV3XzApO1xuICAgIGNvbXBWaWV3XzAuY3JlYXRlKHRoaXMuX1RyZWVOb2RlQ29udGVudF8wXzQsdGhpcy5wcm9qZWN0YWJsZU5vZGVzLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuaW5pdCgoW10gYXMgYW55W10pLmNvbmNhdChbdGhpcy5fZWxfMF0pLFt0aGlzLl9lbF8wXSwoW10gYXMgYW55W10pLChbXSBhcyBhbnlbXSkpO1xuICAgIHJldHVybiB0aGlzLl9hcHBFbF8wO1xuICB9XG4gIGluamVjdG9yR2V0SW50ZXJuYWwodG9rZW46YW55LHJlcXVlc3ROb2RlSW5kZXg6bnVtYmVyLG5vdEZvdW5kUmVzdWx0OmFueSk6YW55IHtcbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0My5UcmVlTm9kZUNvbnRlbnQpICYmICgwID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX1RyZWVOb2RlQ29udGVudF8wXzQ7IH1cbiAgICByZXR1cm4gbm90Rm91bmRSZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudF9Ib3N0MCh2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCk6aW1wb3J0MS5BcHBWaWV3PGFueT4ge1xuICBpZiAoKHJlbmRlclR5cGVfVHJlZU5vZGVDb250ZW50X0hvc3QgPT09IChudWxsIGFzIGFueSkpKSB7IChyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudF9Ib3N0ID0gdmlld1V0aWxzLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGUoJycsMCxpbXBvcnQ4LlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsKFtdIGFzIGFueVtdKSx7fSkpOyB9XG4gIHJldHVybiBuZXcgX1ZpZXdfVHJlZU5vZGVDb250ZW50X0hvc3QwKHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsKTtcbn1cbmV4cG9ydCBjb25zdCBUcmVlTm9kZUNvbnRlbnROZ0ZhY3Rvcnk6aW1wb3J0OS5Db21wb25lbnRGYWN0b3J5PGltcG9ydDMuVHJlZU5vZGVDb250ZW50PiA9IG5ldyBpbXBvcnQ5LkNvbXBvbmVudEZhY3Rvcnk8aW1wb3J0My5UcmVlTm9kZUNvbnRlbnQ+KCdUcmVlTm9kZUNvbnRlbnQnLHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudF9Ib3N0MCxpbXBvcnQzLlRyZWVOb2RlQ29udGVudCk7XG5jb25zdCBzdHlsZXNfVHJlZU5vZGVDb250ZW50OmFueVtdID0gKFtdIGFzIGFueVtdKTtcbnZhciByZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudDppbXBvcnQwLlJlbmRlckNvbXBvbmVudFR5cGUgPSAobnVsbCBhcyBhbnkpO1xuY2xhc3MgX1ZpZXdfVHJlZU5vZGVDb250ZW50MCBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxpbXBvcnQzLlRyZWVOb2RlQ29udGVudD4ge1xuICBfYW5jaG9yXzA6YW55O1xuICAvKnByaXZhdGUqLyBfYXBwRWxfMDppbXBvcnQyLkFwcEVsZW1lbnQ7XG4gIF9UZW1wbGF0ZVJlZl8wXzU6YW55O1xuICBfTmdJZl8wXzY6aW1wb3J0MTAuTmdJZjtcbiAgX3RleHRfMTphbnk7XG4gIF9hbmNob3JfMjphbnk7XG4gIC8qcHJpdmF0ZSovIF9hcHBFbF8yOmltcG9ydDIuQXBwRWxlbWVudDtcbiAgX1RlbXBsYXRlUmVmXzJfNTphbnk7XG4gIF9OZ1RlbXBsYXRlT3V0bGV0XzJfNjppbXBvcnQxMS5OZ1RlbXBsYXRlT3V0bGV0O1xuICAvKnByaXZhdGUqLyBfZXhwcl8wOmFueTtcbiAgX21hcF8wOmFueTtcbiAgLypwcml2YXRlKi8gX2V4cHJfMTphbnk7XG4gIC8qcHJpdmF0ZSovIF9leHByXzI6YW55O1xuICBjb25zdHJ1Y3Rvcih2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCkge1xuICAgIHN1cGVyKF9WaWV3X1RyZWVOb2RlQ29udGVudDAscmVuZGVyVHlwZV9UcmVlTm9kZUNvbnRlbnQsaW1wb3J0Ni5WaWV3VHlwZS5DT01QT05FTlQsdmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyk7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0Mi5BcHBFbGVtZW50IHtcbiAgICBjb25zdCBwYXJlbnRSZW5kZXJOb2RlOmFueSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmlld1Jvb3QodGhpcy5kZWNsYXJhdGlvbkFwcEVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgdGhpcy5fYW5jaG9yXzAgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRlbXBsYXRlQW5jaG9yKHBhcmVudFJlbmRlck5vZGUsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYXBwRWxfMCA9IG5ldyBpbXBvcnQyLkFwcEVsZW1lbnQoMCwobnVsbCBhcyBhbnkpLHRoaXMsdGhpcy5fYW5jaG9yXzApO1xuICAgIHRoaXMuX1RlbXBsYXRlUmVmXzBfNSA9IG5ldyBpbXBvcnQxMi5UZW1wbGF0ZVJlZl8odGhpcy5fYXBwRWxfMCx2aWV3RmFjdG9yeV9UcmVlTm9kZUNvbnRlbnQxKTtcbiAgICB0aGlzLl9OZ0lmXzBfNiA9IG5ldyBpbXBvcnQxMC5OZ0lmKHRoaXMuX2FwcEVsXzAudmNSZWYsdGhpcy5fVGVtcGxhdGVSZWZfMF81KTtcbiAgICB0aGlzLl90ZXh0XzEgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQocGFyZW50UmVuZGVyTm9kZSwnXFxuICAnLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FuY2hvcl8yID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZW1wbGF0ZUFuY2hvcihwYXJlbnRSZW5kZXJOb2RlLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FwcEVsXzIgPSBuZXcgaW1wb3J0Mi5BcHBFbGVtZW50KDIsKG51bGwgYXMgYW55KSx0aGlzLHRoaXMuX2FuY2hvcl8yKTtcbiAgICB0aGlzLl9UZW1wbGF0ZVJlZl8yXzUgPSBuZXcgaW1wb3J0MTIuVGVtcGxhdGVSZWZfKHRoaXMuX2FwcEVsXzIsdmlld0ZhY3RvcnlfVHJlZU5vZGVDb250ZW50Mik7XG4gICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYgPSBuZXcgaW1wb3J0MTEuTmdUZW1wbGF0ZU91dGxldCh0aGlzLl9hcHBFbF8yLnZjUmVmKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5fbWFwXzAgPSBpbXBvcnQ0LnB1cmVQcm94eTEoKHAwOmFueSk6e1trZXk6IHN0cmluZ106YW55fSA9PiB7XG4gICAgICByZXR1cm4geyRpbXBsaWNpdDogcDB9O1xuICAgIH0pO1xuICAgIHRoaXMuX2V4cHJfMSA9IGltcG9ydDcuVU5JTklUSUFMSVpFRDtcbiAgICB0aGlzLl9leHByXzIgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSksW1xuICAgICAgdGhpcy5fYW5jaG9yXzAsXG4gICAgICB0aGlzLl90ZXh0XzEsXG4gICAgICB0aGlzLl9hbmNob3JfMlxuICAgIF1cbiAgICAsKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pKTtcbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxuICBpbmplY3RvckdldEludGVybmFsKHRva2VuOmFueSxyZXF1ZXN0Tm9kZUluZGV4Om51bWJlcixub3RGb3VuZFJlc3VsdDphbnkpOmFueSB7XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDEyLlRlbXBsYXRlUmVmKSAmJiAoMCA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9UZW1wbGF0ZVJlZl8wXzU7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTAuTmdJZikgJiYgKDAgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fTmdJZl8wXzY7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTIuVGVtcGxhdGVSZWYpICYmICgyID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX1RlbXBsYXRlUmVmXzJfNTsgfVxuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQxMS5OZ1RlbXBsYXRlT3V0bGV0KSAmJiAoMiA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9OZ1RlbXBsYXRlT3V0bGV0XzJfNjsgfVxuICAgIHJldHVybiBub3RGb3VuZFJlc3VsdDtcbiAgfVxuICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhyb3dPbkNoYW5nZTpib29sZWFuKTp2b2lkIHtcbiAgICB2YXIgY2hhbmdlczp7W2tleTogc3RyaW5nXTppbXBvcnQ3LlNpbXBsZUNoYW5nZX0gPSAobnVsbCBhcyBhbnkpO1xuICAgIGNvbnN0IGN1cnJWYWxfMDpib29sZWFuID0gIXRoaXMuY29udGV4dC50cmVlTm9kZUNvbnRlbnRUZW1wbGF0ZTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzAsY3VyclZhbF8wKSkge1xuICAgICAgdGhpcy5fTmdJZl8wXzYubmdJZiA9IGN1cnJWYWxfMDtcbiAgICAgIHRoaXMuX2V4cHJfMCA9IGN1cnJWYWxfMDtcbiAgICB9XG4gICAgY2hhbmdlcyA9IChudWxsIGFzIGFueSk7XG4gICAgY29uc3QgY3VyclZhbF8xOmFueSA9IHRoaXMuX21hcF8wKHRoaXMuY29udGV4dC5ub2RlKTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzEsY3VyclZhbF8xKSkge1xuICAgICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdPdXRsZXRDb250ZXh0ID0gY3VyclZhbF8xO1xuICAgICAgaWYgKChjaGFuZ2VzID09PSAobnVsbCBhcyBhbnkpKSkgeyAoY2hhbmdlcyA9IHt9KTsgfVxuICAgICAgY2hhbmdlc1snbmdPdXRsZXRDb250ZXh0J10gPSBuZXcgaW1wb3J0Ny5TaW1wbGVDaGFuZ2UodGhpcy5fZXhwcl8xLGN1cnJWYWxfMSk7XG4gICAgICB0aGlzLl9leHByXzEgPSBjdXJyVmFsXzE7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJWYWxfMjphbnkgPSB0aGlzLmNvbnRleHQudHJlZU5vZGVDb250ZW50VGVtcGxhdGU7XG4gICAgaWYgKGltcG9ydDQuY2hlY2tCaW5kaW5nKHRocm93T25DaGFuZ2UsdGhpcy5fZXhwcl8yLGN1cnJWYWxfMikpIHtcbiAgICAgIHRoaXMuX05nVGVtcGxhdGVPdXRsZXRfMl82Lm5nVGVtcGxhdGVPdXRsZXQgPSBjdXJyVmFsXzI7XG4gICAgICBpZiAoKGNoYW5nZXMgPT09IChudWxsIGFzIGFueSkpKSB7IChjaGFuZ2VzID0ge30pOyB9XG4gICAgICBjaGFuZ2VzWyduZ1RlbXBsYXRlT3V0bGV0J10gPSBuZXcgaW1wb3J0Ny5TaW1wbGVDaGFuZ2UodGhpcy5fZXhwcl8yLGN1cnJWYWxfMik7XG4gICAgICB0aGlzLl9leHByXzIgPSBjdXJyVmFsXzI7XG4gICAgfVxuICAgIGlmICgoY2hhbmdlcyAhPT0gKG51bGwgYXMgYW55KSkpIHsgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdPbkNoYW5nZXMoY2hhbmdlcyk7IH1cbiAgICB0aGlzLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gICAgdGhpcy5kZXRlY3RWaWV3Q2hpbGRyZW5DaGFuZ2VzKHRocm93T25DaGFuZ2UpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmlld0ZhY3RvcnlfVHJlZU5vZGVDb250ZW50MCh2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCk6aW1wb3J0MS5BcHBWaWV3PGltcG9ydDMuVHJlZU5vZGVDb250ZW50PiB7XG4gIGlmICgocmVuZGVyVHlwZV9UcmVlTm9kZUNvbnRlbnQgPT09IChudWxsIGFzIGFueSkpKSB7IChyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCA9IHZpZXdVdGlscy5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlKCcnLDAsaW1wb3J0OC5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLHN0eWxlc19UcmVlTm9kZUNvbnRlbnQse30pKTsgfVxuICByZXR1cm4gbmV3IF9WaWV3X1RyZWVOb2RlQ29udGVudDAodmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwpO1xufVxuY2xhc3MgX1ZpZXdfVHJlZU5vZGVDb250ZW50MSBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICBfdGV4dF8xOmFueTtcbiAgLypwcml2YXRlKi8gX2V4cHJfMDphbnk7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfVHJlZU5vZGVDb250ZW50MSxyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCxpbXBvcnQ2LlZpZXdUeXBlLkVNQkVEREVELHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgdGhpcy5fZWxfMCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgobnVsbCBhcyBhbnkpLCdzcGFuJywobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl90ZXh0XzEgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy5fZWxfMCwnJywobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSkuY29uY2F0KFt0aGlzLl9lbF8wXSksW1xuICAgICAgdGhpcy5fZWxfMCxcbiAgICAgIHRoaXMuX3RleHRfMVxuICAgIF1cbiAgICAsKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pKTtcbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxuICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhyb3dPbkNoYW5nZTpib29sZWFuKTp2b2lkIHtcbiAgICB0aGlzLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gICAgY29uc3QgY3VyclZhbF8wOmFueSA9IGltcG9ydDQuaW50ZXJwb2xhdGUoMSwnJyx0aGlzLnBhcmVudC5jb250ZXh0Lm5vZGUuZGlzcGxheUZpZWxkLCcnKTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzAsY3VyclZhbF8wKSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KHRoaXMuX3RleHRfMSxjdXJyVmFsXzApO1xuICAgICAgdGhpcy5fZXhwcl8wID0gY3VyclZhbF8wO1xuICAgIH1cbiAgICB0aGlzLmRldGVjdFZpZXdDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudDEodmlld1V0aWxzOmltcG9ydDQuVmlld1V0aWxzLHBhcmVudEluamVjdG9yOmltcG9ydDUuSW5qZWN0b3IsZGVjbGFyYXRpb25FbDppbXBvcnQyLkFwcEVsZW1lbnQpOmltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgcmV0dXJuIG5ldyBfVmlld19UcmVlTm9kZUNvbnRlbnQxKHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsKTtcbn1cbmNsYXNzIF9WaWV3X1RyZWVOb2RlQ29udGVudDIgZXh0ZW5kcyBpbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfVHJlZU5vZGVDb250ZW50MixyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCxpbXBvcnQ2LlZpZXdUeXBlLkVNQkVEREVELHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pLChbXSBhcyBhbnlbXSkpO1xuICAgIHJldHVybiAobnVsbCBhcyBhbnkpO1xuICB9XG59XG5mdW5jdGlvbiB2aWV3RmFjdG9yeV9UcmVlTm9kZUNvbnRlbnQyKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KTppbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIHJldHVybiBuZXcgX1ZpZXdfVHJlZU5vZGVDb250ZW50Mih2aWV3VXRpbHMscGFyZW50SW5qZWN0b3IsZGVjbGFyYXRpb25FbCk7XG59Il19