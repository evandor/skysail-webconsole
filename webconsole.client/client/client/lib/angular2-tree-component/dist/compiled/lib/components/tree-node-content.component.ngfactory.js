/**
 * This file is generated by the Angular 2 template compiler.
 * Do not edit.
 */
/* tslint:disable */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var import1 = require('@angular/core/src/linker/view');
var import2 = require('@angular/core/src/linker/element');
var import3 = require('../../../lib/components/tree-node-content.component');
var import4 = require('@angular/core/src/linker/view_utils');
var import6 = require('@angular/core/src/linker/view_type');
var import7 = require('@angular/core/src/change_detection/change_detection');
var import8 = require('@angular/core/src/metadata/view');
var import9 = require('@angular/core/src/linker/component_factory');
var import10 = require('@angular/common/src/directives/ng_if');
var import11 = require('@angular/common/src/directives/ng_template_outlet');
var import12 = require('@angular/core/src/linker/template_ref');
var renderType_TreeNodeContent_Host = null;
var _View_TreeNodeContent_Host0 = (function (_super) {
    __extends(_View_TreeNodeContent_Host0, _super);
    function _View_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent_Host0, renderType_TreeNodeContent_Host, import6.ViewType.HOST, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent_Host0.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.selectOrCreateHostElement('TreeNodeContent', rootSelector, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._el_0);
        var compView_0 = viewFactory_TreeNodeContent0(this.viewUtils, this.injector(0), this._appEl_0);
        this._TreeNodeContent_0_4 = new import3.TreeNodeContent();
        this._appEl_0.initComponent(this._TreeNodeContent_0_4, [], compView_0);
        compView_0.create(this._TreeNodeContent_0_4, this.projectableNodes, null);
        this.init([].concat([this._el_0]), [this._el_0], [], []);
        return this._appEl_0;
    };
    _View_TreeNodeContent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import3.TreeNodeContent) && (0 === requestNodeIndex))) {
            return this._TreeNodeContent_0_4;
        }
        return notFoundResult;
    };
    return _View_TreeNodeContent_Host0;
}(import1.AppView));
function viewFactory_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_TreeNodeContent_Host === null)) {
        (renderType_TreeNodeContent_Host = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, [], {}));
    }
    return new _View_TreeNodeContent_Host0(viewUtils, parentInjector, declarationEl);
}
exports.TreeNodeContentNgFactory = new import9.ComponentFactory('TreeNodeContent', viewFactory_TreeNodeContent_Host0, import3.TreeNodeContent);
var styles_TreeNodeContent = [];
var renderType_TreeNodeContent = null;
var _View_TreeNodeContent0 = (function (_super) {
    __extends(_View_TreeNodeContent0, _super);
    function _View_TreeNodeContent0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent0, renderType_TreeNodeContent, import6.ViewType.COMPONENT, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent0.prototype.createInternal = function (rootSelector) {
        var parentRenderNode = this.renderer.createViewRoot(this.declarationAppElement.nativeElement);
        this._anchor_0 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._anchor_0);
        this._TemplateRef_0_5 = new import12.TemplateRef_(this._appEl_0, viewFactory_TreeNodeContent1);
        this._NgIf_0_6 = new import10.NgIf(this._appEl_0.vcRef, this._TemplateRef_0_5);
        this._text_1 = this.renderer.createText(parentRenderNode, '\n  ', null);
        this._anchor_2 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_2 = new import2.AppElement(2, null, this, this._anchor_2);
        this._TemplateRef_2_5 = new import12.TemplateRef_(this._appEl_2, viewFactory_TreeNodeContent2);
        this._NgTemplateOutlet_2_6 = new import11.NgTemplateOutlet(this._appEl_2.vcRef);
        this._expr_0 = import7.UNINITIALIZED;
        this._map_0 = import4.pureProxy1(function (p0) {
            return { $implicit: p0 };
        });
        this._expr_1 = import7.UNINITIALIZED;
        this._expr_2 = import7.UNINITIALIZED;
        this.init([], [
            this._anchor_0,
            this._text_1,
            this._anchor_2
        ], [], []);
        return null;
    };
    _View_TreeNodeContent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import12.TemplateRef) && (0 === requestNodeIndex))) {
            return this._TemplateRef_0_5;
        }
        if (((token === import10.NgIf) && (0 === requestNodeIndex))) {
            return this._NgIf_0_6;
        }
        if (((token === import12.TemplateRef) && (2 === requestNodeIndex))) {
            return this._TemplateRef_2_5;
        }
        if (((token === import11.NgTemplateOutlet) && (2 === requestNodeIndex))) {
            return this._NgTemplateOutlet_2_6;
        }
        return notFoundResult;
    };
    _View_TreeNodeContent0.prototype.detectChangesInternal = function (throwOnChange) {
        var changes = null;
        var currVal_0 = !this.context.treeNodeContentTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_0, currVal_0)) {
            this._NgIf_0_6.ngIf = currVal_0;
            this._expr_0 = currVal_0;
        }
        changes = null;
        var currVal_1 = this._map_0(this.context.node);
        if (import4.checkBinding(throwOnChange, this._expr_1, currVal_1)) {
            this._NgTemplateOutlet_2_6.ngOutletContext = currVal_1;
            if ((changes === null)) {
                (changes = {});
            }
            changes['ngOutletContext'] = new import7.SimpleChange(this._expr_1, currVal_1);
            this._expr_1 = currVal_1;
        }
        var currVal_2 = this.context.treeNodeContentTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_2, currVal_2)) {
            this._NgTemplateOutlet_2_6.ngTemplateOutlet = currVal_2;
            if ((changes === null)) {
                (changes = {});
            }
            changes['ngTemplateOutlet'] = new import7.SimpleChange(this._expr_2, currVal_2);
            this._expr_2 = currVal_2;
        }
        if ((changes !== null)) {
            this._NgTemplateOutlet_2_6.ngOnChanges(changes);
        }
        this.detectContentChildrenChanges(throwOnChange);
        this.detectViewChildrenChanges(throwOnChange);
    };
    return _View_TreeNodeContent0;
}(import1.AppView));
function viewFactory_TreeNodeContent0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_TreeNodeContent === null)) {
        (renderType_TreeNodeContent = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, styles_TreeNodeContent, {}));
    }
    return new _View_TreeNodeContent0(viewUtils, parentInjector, declarationEl);
}
exports.viewFactory_TreeNodeContent0 = viewFactory_TreeNodeContent0;
var _View_TreeNodeContent1 = (function (_super) {
    __extends(_View_TreeNodeContent1, _super);
    function _View_TreeNodeContent1(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent1, renderType_TreeNodeContent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent1.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.renderer.createElement(null, 'span', null);
        this._text_1 = this.renderer.createText(this._el_0, '', null);
        this._expr_0 = import7.UNINITIALIZED;
        this.init([].concat([this._el_0]), [
            this._el_0,
            this._text_1
        ], [], []);
        return null;
    };
    _View_TreeNodeContent1.prototype.detectChangesInternal = function (throwOnChange) {
        this.detectContentChildrenChanges(throwOnChange);
        var currVal_0 = import4.interpolate(1, '', this.parent.context.node.displayField, '');
        if (import4.checkBinding(throwOnChange, this._expr_0, currVal_0)) {
            this.renderer.setText(this._text_1, currVal_0);
            this._expr_0 = currVal_0;
        }
        this.detectViewChildrenChanges(throwOnChange);
    };
    return _View_TreeNodeContent1;
}(import1.AppView));
function viewFactory_TreeNodeContent1(viewUtils, parentInjector, declarationEl) {
    return new _View_TreeNodeContent1(viewUtils, parentInjector, declarationEl);
}
var _View_TreeNodeContent2 = (function (_super) {
    __extends(_View_TreeNodeContent2, _super);
    function _View_TreeNodeContent2(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_TreeNodeContent2, renderType_TreeNodeContent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_TreeNodeContent2.prototype.createInternal = function (rootSelector) {
        this.init([], [], [], []);
        return null;
    };
    return _View_TreeNodeContent2;
}(import1.AppView));
function viewFactory_TreeNodeContent2(viewUtils, parentInjector, declarationEl) {
    return new _View_TreeNodeContent2(viewUtils, parentInjector, declarationEl);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS1ub2RlLWNvbnRlbnQuY29tcG9uZW50Lm5nZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NvbXBpbGVkL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb250ZW50LmNvbXBvbmVudC5uZ2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBQ0Ysb0JBQW9COzs7Ozs7O0FBR3JCLElBQVksT0FBTyxXQUFNLCtCQUErQixDQUFDLENBQUE7QUFDekQsSUFBWSxPQUFPLFdBQU0sa0NBQWtDLENBQUMsQ0FBQTtBQUM1RCxJQUFZLE9BQU8sV0FBTSxxREFBcUQsQ0FBQyxDQUFBO0FBQy9FLElBQVksT0FBTyxXQUFNLHFDQUFxQyxDQUFDLENBQUE7QUFFL0QsSUFBWSxPQUFPLFdBQU0sb0NBQW9DLENBQUMsQ0FBQTtBQUM5RCxJQUFZLE9BQU8sV0FBTSxxREFBcUQsQ0FBQyxDQUFBO0FBQy9FLElBQVksT0FBTyxXQUFNLGlDQUFpQyxDQUFDLENBQUE7QUFDM0QsSUFBWSxPQUFPLFdBQU0sNENBQTRDLENBQUMsQ0FBQTtBQUN0RSxJQUFZLFFBQVEsV0FBTSxzQ0FBc0MsQ0FBQyxDQUFBO0FBQ2pFLElBQVksUUFBUSxXQUFNLG1EQUFtRCxDQUFDLENBQUE7QUFDOUUsSUFBWSxRQUFRLFdBQU0sdUNBQXVDLENBQUMsQ0FBQTtBQUNsRSxJQUFJLCtCQUErQixHQUFnQyxJQUFZLENBQUM7QUFDaEY7SUFBMEMsK0NBQW9CO0lBSTVELHFDQUFZLFNBQTJCLEVBQUMsY0FBK0IsRUFBQyxhQUFnQztRQUN0RyxrQkFBTSwyQkFBMkIsRUFBQywrQkFBK0IsRUFBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxTQUFTLEVBQUMsY0FBYyxFQUFDLGFBQWEsRUFBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0ssQ0FBQztJQUNELG9EQUFjLEdBQWQsVUFBZSxZ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SUFDRCwrQ0FBYyxHQUFkLFVBQWUsWUFBbUI7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUFZLEVBQUUsRUFBWSxFQUFFLEVBQVksRUFBRSxFQUFZLENBQUMsQ0FBQztRQUNuRSxNQUFNLENBQUUsSUFBWSxDQUFDO0lBQ3ZCLENBQUM7SUFDSCw2QkFBQztBQUFELENBQUMsQUFSRCxDQUFxQyxPQUFPLENBQUMsT0FBTyxHQVFuRDtBQUNELHNDQUFzQyxTQUEyQixFQUFDLGNBQStCLEVBQUMsYUFBZ0M7SUFDaEksTUFBTSxDQUFDLElBQUksc0JBQXNCLENBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQyxhQUFhLENBQUMsQ0FBQztBQUM1RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBBbmd1bGFyIDIgdGVtcGxhdGUgY29tcGlsZXIuXG4gKiBEbyBub3QgZWRpdC5cbiAqL1xuIC8qIHRzbGludDpkaXNhYmxlICovXG5cbmltcG9ydCAqIGFzIGltcG9ydDAgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvcmVuZGVyL2FwaSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQxIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3JztcbmltcG9ydCAqIGFzIGltcG9ydDIgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL2VsZW1lbnQnO1xuaW1wb3J0ICogYXMgaW1wb3J0MyBmcm9tICcuLi8uLi8uLi9saWIvY29tcG9uZW50cy90cmVlLW5vZGUtY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0ICogYXMgaW1wb3J0NCBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlld191dGlscyc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ1IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2RpL2luamVjdG9yJztcbmltcG9ydCAqIGFzIGltcG9ydDYgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXdfdHlwZSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ3IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2NoYW5nZV9kZXRlY3Rpb24vY2hhbmdlX2RldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBpbXBvcnQ4IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL21ldGFkYXRhL3ZpZXcnO1xuaW1wb3J0ICogYXMgaW1wb3J0OSBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvY29tcG9uZW50X2ZhY3RvcnknO1xuaW1wb3J0ICogYXMgaW1wb3J0MTAgZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX2lmJztcbmltcG9ydCAqIGFzIGltcG9ydDExIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ190ZW1wbGF0ZV9vdXRsZXQnO1xuaW1wb3J0ICogYXMgaW1wb3J0MTIgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3RlbXBsYXRlX3JlZic7XG52YXIgcmVuZGVyVHlwZV9UcmVlTm9kZUNvbnRlbnRfSG9zdDppbXBvcnQwLlJlbmRlckNvbXBvbmVudFR5cGUgPSAobnVsbCBhcyBhbnkpO1xuY2xhc3MgX1ZpZXdfVHJlZU5vZGVDb250ZW50X0hvc3QwIGV4dGVuZHMgaW1wb3J0MS5BcHBWaWV3PGFueT4ge1xuICBfZWxfMDphbnk7XG4gIC8qcHJpdmF0ZSovIF9hcHBFbF8wOmltcG9ydDIuQXBwRWxlbWVudDtcbiAgX1RyZWVOb2RlQ29udGVudF8wXzQ6aW1wb3J0My5UcmVlTm9kZUNvbnRlbnQ7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfVHJlZU5vZGVDb250ZW50X0hvc3QwLHJlbmRlclR5cGVfVHJlZU5vZGVDb250ZW50X0hvc3QsaW1wb3J0Ni5WaWV3VHlwZS5IT1NULHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgdGhpcy5fZWxfMCA9IHRoaXMuc2VsZWN0T3JDcmVhdGVIb3N0RWxlbWVudCgnVHJlZU5vZGVDb250ZW50Jyxyb290U2VsZWN0b3IsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYXBwRWxfMCA9IG5ldyBpbXBvcnQyLkFwcEVsZW1lbnQoMCwobnVsbCBhcyBhbnkpLHRoaXMsdGhpcy5fZWxfMCk7XG4gICAgdmFyIGNvbXBWaWV3XzA6YW55ID0gdmlld0ZhY3RvcnlfVHJlZU5vZGVDb250ZW50MCh0aGlzLnZpZXdVdGlscyx0aGlzLmluamVjdG9yKDApLHRoaXMuX2FwcEVsXzApO1xuICAgIHRoaXMuX1RyZWVOb2RlQ29udGVudF8wXzQgPSBuZXcgaW1wb3J0My5UcmVlTm9kZUNvbnRlbnQoKTtcbiAgICB0aGlzLl9hcHBFbF8wLmluaXRDb21wb25lbnQodGhpcy5fVHJlZU5vZGVDb250ZW50XzBfNCwoW10gYXMgYW55W10pLGNvbXBWaWV3XzApO1xuICAgIGNvbXBWaWV3XzAuY3JlYXRlKHRoaXMuX1RyZWVOb2RlQ29udGVudF8wXzQsdGhpcy5wcm9qZWN0YWJsZU5vZGVzLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuaW5pdCgoW10gYXMgYW55W10pLmNvbmNhdChbdGhpcy5fZWxfMF0pLFt0aGlzLl9lbF8wXSwoW10gYXMgYW55W10pLChbXSBhcyBhbnlbXSkpO1xuICAgIHJldHVybiB0aGlzLl9hcHBFbF8wO1xuICB9XG4gIGluamVjdG9yR2V0SW50ZXJuYWwodG9rZW46YW55LHJlcXVlc3ROb2RlSW5kZXg6bnVtYmVyLG5vdEZvdW5kUmVzdWx0OmFueSk6YW55IHtcbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0My5UcmVlTm9kZUNvbnRlbnQpICYmICgwID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX1RyZWVOb2RlQ29udGVudF8wXzQ7IH1cbiAgICByZXR1cm4gbm90Rm91bmRSZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudF9Ib3N0MCh2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCk6aW1wb3J0MS5BcHBWaWV3PGFueT4ge1xuICBpZiAoKHJlbmRlclR5cGVfVHJlZU5vZGVDb250ZW50X0hvc3QgPT09IChudWxsIGFzIGFueSkpKSB7IChyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudF9Ib3N0ID0gdmlld1V0aWxzLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGUoJycsMCxpbXBvcnQ4LlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsKFtdIGFzIGFueVtdKSx7fSkpOyB9XG4gIHJldHVybiBuZXcgX1ZpZXdfVHJlZU5vZGVDb250ZW50X0hvc3QwKHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsKTtcbn1cbmV4cG9ydCBjb25zdCBUcmVlTm9kZUNvbnRlbnROZ0ZhY3Rvcnk6aW1wb3J0OS5Db21wb25lbnRGYWN0b3J5PGltcG9ydDMuVHJlZU5vZGVDb250ZW50PiA9IG5ldyBpbXBvcnQ5LkNvbXBvbmVudEZhY3Rvcnk8aW1wb3J0My5UcmVlTm9kZUNvbnRlbnQ+KCdUcmVlTm9kZUNvbnRlbnQnLHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudF9Ib3N0MCxpbXBvcnQzLlRyZWVOb2RlQ29udGVudCk7XG5jb25zdCBzdHlsZXNfVHJlZU5vZGVDb250ZW50OmFueVtdID0gKFtdIGFzIGFueVtdKTtcbnZhciByZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudDppbXBvcnQwLlJlbmRlckNvbXBvbmVudFR5cGUgPSAobnVsbCBhcyBhbnkpO1xuY2xhc3MgX1ZpZXdfVHJlZU5vZGVDb250ZW50MCBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxpbXBvcnQzLlRyZWVOb2RlQ29udGVudD4ge1xuICBfYW5jaG9yXzA6YW55O1xuICAvKnByaXZhdGUqLyBfYXBwRWxfMDppbXBvcnQyLkFwcEVsZW1lbnQ7XG4gIF9UZW1wbGF0ZVJlZl8wXzU6YW55O1xuICBfTmdJZl8wXzY6aW1wb3J0MTAuTmdJZjtcbiAgX3RleHRfMTphbnk7XG4gIF9hbmNob3JfMjphbnk7XG4gIC8qcHJpdmF0ZSovIF9hcHBFbF8yOmltcG9ydDIuQXBwRWxlbWVudDtcbiAgX1RlbXBsYXRlUmVmXzJfNTphbnk7XG4gIF9OZ1RlbXBsYXRlT3V0bGV0XzJfNjppbXBvcnQxMS5OZ1RlbXBsYXRlT3V0bGV0O1xuICAvKnByaXZhdGUqLyBfZXhwcl8wOmFueTtcbiAgX21hcF8wOmFueTtcbiAgLypwcml2YXRlKi8gX2V4cHJfMTphbnk7XG4gIC8qcHJpdmF0ZSovIF9leHByXzI6YW55O1xuICBjb25zdHJ1Y3Rvcih2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCkge1xuICAgIHN1cGVyKF9WaWV3X1RyZWVOb2RlQ29udGVudDAscmVuZGVyVHlwZV9UcmVlTm9kZUNvbnRlbnQsaW1wb3J0Ni5WaWV3VHlwZS5DT01QT05FTlQsdmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyk7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0Mi5BcHBFbGVtZW50IHtcbiAgICBjb25zdCBwYXJlbnRSZW5kZXJOb2RlOmFueSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmlld1Jvb3QodGhpcy5kZWNsYXJhdGlvbkFwcEVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgdGhpcy5fYW5jaG9yXzAgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRlbXBsYXRlQW5jaG9yKHBhcmVudFJlbmRlck5vZGUsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYXBwRWxfMCA9IG5ldyBpbXBvcnQyLkFwcEVsZW1lbnQoMCwobnVsbCBhcyBhbnkpLHRoaXMsdGhpcy5fYW5jaG9yXzApO1xuICAgIHRoaXMuX1RlbXBsYXRlUmVmXzBfNSA9IG5ldyBpbXBvcnQxMi5UZW1wbGF0ZVJlZl8odGhpcy5fYXBwRWxfMCx2aWV3RmFjdG9yeV9UcmVlTm9kZUNvbnRlbnQxKTtcbiAgICB0aGlzLl9OZ0lmXzBfNiA9IG5ldyBpbXBvcnQxMC5OZ0lmKHRoaXMuX2FwcEVsXzAudmNSZWYsdGhpcy5fVGVtcGxhdGVSZWZfMF81KTtcbiAgICB0aGlzLl90ZXh0XzEgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQocGFyZW50UmVuZGVyTm9kZSwnXFxuICAnLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FuY2hvcl8yID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZW1wbGF0ZUFuY2hvcihwYXJlbnRSZW5kZXJOb2RlLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FwcEVsXzIgPSBuZXcgaW1wb3J0Mi5BcHBFbGVtZW50KDIsKG51bGwgYXMgYW55KSx0aGlzLHRoaXMuX2FuY2hvcl8yKTtcbiAgICB0aGlzLl9UZW1wbGF0ZVJlZl8yXzUgPSBuZXcgaW1wb3J0MTIuVGVtcGxhdGVSZWZfKHRoaXMuX2FwcEVsXzIsdmlld0ZhY3RvcnlfVHJlZU5vZGVDb250ZW50Mik7XG4gICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYgPSBuZXcgaW1wb3J0MTEuTmdUZW1wbGF0ZU91dGxldCh0aGlzLl9hcHBFbF8yLnZjUmVmKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5fbWFwXzAgPSBpbXBvcnQ0LnB1cmVQcm94eTEoKHAwOmFueSk6e1trZXk6IHN0cmluZ106YW55fSA9PiB7XG4gICAgICByZXR1cm4geyRpbXBsaWNpdDogcDB9O1xuICAgIH0pO1xuICAgIHRoaXMuX2V4cHJfMSA9IGltcG9ydDcuVU5JTklUSUFMSVpFRDtcbiAgICB0aGlzLl9leHByXzIgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSksW1xuICAgICAgdGhpcy5fYW5jaG9yXzAsXG4gICAgICB0aGlzLl90ZXh0XzEsXG4gICAgICB0aGlzLl9hbmNob3JfMlxuICAgIF1cbiAgICAsKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pKTtcbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxuICBpbmplY3RvckdldEludGVybmFsKHRva2VuOmFueSxyZXF1ZXN0Tm9kZUluZGV4Om51bWJlcixub3RGb3VuZFJlc3VsdDphbnkpOmFueSB7XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDEyLlRlbXBsYXRlUmVmKSAmJiAoMCA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9UZW1wbGF0ZVJlZl8wXzU7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTAuTmdJZikgJiYgKDAgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fTmdJZl8wXzY7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTIuVGVtcGxhdGVSZWYpICYmICgyID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX1RlbXBsYXRlUmVmXzJfNTsgfVxuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQxMS5OZ1RlbXBsYXRlT3V0bGV0KSAmJiAoMiA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9OZ1RlbXBsYXRlT3V0bGV0XzJfNjsgfVxuICAgIHJldHVybiBub3RGb3VuZFJlc3VsdDtcbiAgfVxuICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhyb3dPbkNoYW5nZTpib29sZWFuKTp2b2lkIHtcbiAgICB2YXIgY2hhbmdlczp7W2tleTogc3RyaW5nXTppbXBvcnQ3LlNpbXBsZUNoYW5nZX0gPSAobnVsbCBhcyBhbnkpO1xuICAgIGNvbnN0IGN1cnJWYWxfMDpib29sZWFuID0gIXRoaXMuY29udGV4dC50cmVlTm9kZUNvbnRlbnRUZW1wbGF0ZTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzAsY3VyclZhbF8wKSkge1xuICAgICAgdGhpcy5fTmdJZl8wXzYubmdJZiA9IGN1cnJWYWxfMDtcbiAgICAgIHRoaXMuX2V4cHJfMCA9IGN1cnJWYWxfMDtcbiAgICB9XG4gICAgY2hhbmdlcyA9IChudWxsIGFzIGFueSk7XG4gICAgY29uc3QgY3VyclZhbF8xOmFueSA9IHRoaXMuX21hcF8wKHRoaXMuY29udGV4dC5ub2RlKTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzEsY3VyclZhbF8xKSkge1xuICAgICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdPdXRsZXRDb250ZXh0ID0gY3VyclZhbF8xO1xuICAgICAgaWYgKChjaGFuZ2VzID09PSAobnVsbCBhcyBhbnkpKSkgeyAoY2hhbmdlcyA9IHt9KTsgfVxuICAgICAgY2hhbmdlc1snbmdPdXRsZXRDb250ZXh0J10gPSBuZXcgaW1wb3J0Ny5TaW1wbGVDaGFuZ2UodGhpcy5fZXhwcl8xLGN1cnJWYWxfMSk7XG4gICAgICB0aGlzLl9leHByXzEgPSBjdXJyVmFsXzE7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJWYWxfMjphbnkgPSB0aGlzLmNvbnRleHQudHJlZU5vZGVDb250ZW50VGVtcGxhdGU7XG4gICAgaWYgKGltcG9ydDQuY2hlY2tCaW5kaW5nKHRocm93T25DaGFuZ2UsdGhpcy5fZXhwcl8yLGN1cnJWYWxfMikpIHtcbiAgICAgIHRoaXMuX05nVGVtcGxhdGVPdXRsZXRfMl82Lm5nVGVtcGxhdGVPdXRsZXQgPSBjdXJyVmFsXzI7XG4gICAgICBpZiAoKGNoYW5nZXMgPT09IChudWxsIGFzIGFueSkpKSB7IChjaGFuZ2VzID0ge30pOyB9XG4gICAgICBjaGFuZ2VzWyduZ1RlbXBsYXRlT3V0bGV0J10gPSBuZXcgaW1wb3J0Ny5TaW1wbGVDaGFuZ2UodGhpcy5fZXhwcl8yLGN1cnJWYWxfMik7XG4gICAgICB0aGlzLl9leHByXzIgPSBjdXJyVmFsXzI7XG4gICAgfVxuICAgIGlmICgoY2hhbmdlcyAhPT0gKG51bGwgYXMgYW55KSkpIHsgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdPbkNoYW5nZXMoY2hhbmdlcyk7IH1cbiAgICB0aGlzLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gICAgdGhpcy5kZXRlY3RWaWV3Q2hpbGRyZW5DaGFuZ2VzKHRocm93T25DaGFuZ2UpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmlld0ZhY3RvcnlfVHJlZU5vZGVDb250ZW50MCh2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCk6aW1wb3J0MS5BcHBWaWV3PGltcG9ydDMuVHJlZU5vZGVDb250ZW50PiB7XG4gIGlmICgocmVuZGVyVHlwZV9UcmVlTm9kZUNvbnRlbnQgPT09IChudWxsIGFzIGFueSkpKSB7IChyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCA9IHZpZXdVdGlscy5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlKCcnLDAsaW1wb3J0OC5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLHN0eWxlc19UcmVlTm9kZUNvbnRlbnQse30pKTsgfVxuICByZXR1cm4gbmV3IF9WaWV3X1RyZWVOb2RlQ29udGVudDAodmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwpO1xufVxuY2xhc3MgX1ZpZXdfVHJlZU5vZGVDb250ZW50MSBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICBfdGV4dF8xOmFueTtcbiAgLypwcml2YXRlKi8gX2V4cHJfMDphbnk7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfVHJlZU5vZGVDb250ZW50MSxyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCxpbXBvcnQ2LlZpZXdUeXBlLkVNQkVEREVELHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgdGhpcy5fZWxfMCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgobnVsbCBhcyBhbnkpLCdzcGFuJywobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl90ZXh0XzEgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy5fZWxfMCwnJywobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSkuY29uY2F0KFt0aGlzLl9lbF8wXSksW1xuICAgICAgdGhpcy5fZWxfMCxcbiAgICAgIHRoaXMuX3RleHRfMVxuICAgIF1cbiAgICAsKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pKTtcbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxuICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhyb3dPbkNoYW5nZTpib29sZWFuKTp2b2lkIHtcbiAgICB0aGlzLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gICAgY29uc3QgY3VyclZhbF8wOmFueSA9IGltcG9ydDQuaW50ZXJwb2xhdGUoMSwnJyx0aGlzLnBhcmVudC5jb250ZXh0Lm5vZGUuZGlzcGxheUZpZWxkLCcnKTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzAsY3VyclZhbF8wKSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRUZXh0KHRoaXMuX3RleHRfMSxjdXJyVmFsXzApO1xuICAgICAgdGhpcy5fZXhwcl8wID0gY3VyclZhbF8wO1xuICAgIH1cbiAgICB0aGlzLmRldGVjdFZpZXdDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X1RyZWVOb2RlQ29udGVudDEodmlld1V0aWxzOmltcG9ydDQuVmlld1V0aWxzLHBhcmVudEluamVjdG9yOmltcG9ydDUuSW5qZWN0b3IsZGVjbGFyYXRpb25FbDppbXBvcnQyLkFwcEVsZW1lbnQpOmltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgcmV0dXJuIG5ldyBfVmlld19UcmVlTm9kZUNvbnRlbnQxKHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsKTtcbn1cbmNsYXNzIF9WaWV3X1RyZWVOb2RlQ29udGVudDIgZXh0ZW5kcyBpbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfVHJlZU5vZGVDb250ZW50MixyZW5kZXJUeXBlX1RyZWVOb2RlQ29udGVudCxpbXBvcnQ2LlZpZXdUeXBlLkVNQkVEREVELHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pLChbXSBhcyBhbnlbXSkpO1xuICAgIHJldHVybiAobnVsbCBhcyBhbnkpO1xuICB9XG59XG5mdW5jdGlvbiB2aWV3RmFjdG9yeV9UcmVlTm9kZUNvbnRlbnQyKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KTppbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIHJldHVybiBuZXcgX1ZpZXdfVHJlZU5vZGVDb250ZW50Mih2aWV3VXRpbHMscGFyZW50SW5qZWN0b3IsZGVjbGFyYXRpb25FbCk7XG59Il19