{"version":3,"sources":["app/components/codemirror.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YAUA;gBAUI,6BAAY,KAAgB,EAChB,QAAyB,EACzB,MAAsB;oBADtB,aAAQ,GAAR,QAAQ,CAAiB;oBACzB,WAAM,GAAN,MAAM,CAAgB;oBARlC,SAAI,GAAW,KAAK,CAAC;oBASjB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,aAAa,CAAC;gBACnD,CAAC;gBAED,sCAAQ,GAAR;oBAAA,iBAWC;oBATG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,MAAM;wBAC1C,IAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;wBACtB,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;wBAE9B,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,EAAE,EAAE,QAAQ,CAAC;6BAC5C,SAAS,CAAC,UAAA,GAAG;4BACV,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBACnC,CAAC,CAAC,CAAC;oBACX,CAAC,CAAC,CAAC;gBACP,CAAC;gBAED,6CAAe,GAAf;oBAAA,iBAYC;oBAXE,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,mBAAmB,EAAE;wBAChD,WAAW,EAAE,IAAI;wBACjB,IAAI,EAAC,aAAa;wBAClB,QAAQ,EAAE,IAAI;qBACf,CAAC,CAAC;oBAEH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAC,MAAwB;wBAC9C,IAAI,KAAK,GAAG,KAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;wBAC5C,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAClC,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gBACvC,CAAC;gBAED,yCAAW,GAAX,UAAY,OAAU;oBAClB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAC9B,CAAC;gBAED,0CAAY,GAAZ,UAAa,MAAa;oBACtB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACzB,CAAC;gBAtDL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,YAAY;wBACtB,SAAS,EAAE,CAAC,iCAAe,CAAC;wBAC5B,WAAW,EAAE,mCAAmC;qBACnD,CAAC;;uCAAA;gBAmDF,0BAAC;YAAD,CAlDA,AAkDC,IAAA;YAlDD,qDAkDC,CAAA","file":"app/components/codemirror.component.js","sourcesContent":["import {Component, OnInit, ElementRef, OnChanges, AfterViewInit} from \"@angular/core\";\r\nimport {ROUTER_DIRECTIVES, Router, ActivatedRoute} from \"@angular/router\";\r\n\r\nimport {BackendServices} from '../services/backend.service';\r\n\r\n@Component({\r\n    selector: 'codemirror',\r\n    providers: [BackendServices],\r\n    templateUrl: \"app/html/codemirror.template.html\"\r\n})\r\nexport class CodeMirrorComponent implements OnInit,OnChanges, AfterViewInit {\r\n\r\n    sub: any;\r\n\r\n    text: string = \"...\";\r\n\r\n    height:number;\r\n    editor:any;\r\n    editorNativeElement:any;\r\n\r\n    constructor(elRef:ElementRef, \r\n        private _backend: BackendServices, \r\n        private _route: ActivatedRoute) {\r\n        this.editorNativeElement = elRef.nativeElement;\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.sub = this._route.params.subscribe(params => {\r\n            let id = params['id'];\r\n            let filename = params['file'];\r\n\r\n            this._backend.getBundleFileContents(id, filename)\r\n                .subscribe(res => {\r\n                    this.editor.setValue(res.code);\r\n                });\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n       this.editor = CodeMirror(this.editorNativeElement, {\r\n          lineNumbers: true,\r\n          mode:\"text/x-java\",\r\n          readOnly: true\r\n        });\r\n\r\n        this.editor.on('change', (editor:CodeMirror.Editor) => {\r\n            var value = this.editor.getDoc().getValue();\r\n            console.log(\"Value changed!\");\r\n        });\r\n        this.editor.setSize(\"100%\", \"80%\");\r\n    }\r\n\r\n    ngOnChanges(changes:{}) {\r\n        console.log(\"on changes\");\r\n    }\r\n\r\n    updateHeight(height:number) {\r\n        this.height = height;\r\n    }\r\n}"],"sourceRoot":"/source/"}