{"version":3,"sources":["app/components/navbar/navbar.component.ts"],"names":[],"mappings":"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","file":"app/components/navbar/navbar.component.js","sourcesContent":["import {Component} from \"@angular/core\";\r\nimport {ROUTER_DIRECTIVES, ActivatedRoute, Router} from \"@angular/router\";\r\nimport {BackendServices} from '../../services/backend.service';\r\nimport {AppGlobals} from '../../services/appglobals.service';\r\nimport {BreadcrumbsService} from '../../services/breadcrumbs.service';\r\n\r\nimport {Subscription} from 'rxjs/Subscription';\r\n\r\nimport {Breadcrumbs} from '../../components/navbar/breadcrumbs.component';\r\nimport {Breadcrumb} from '../navbar/breadcrumb';\r\n\r\n@Component({\r\n    selector: 'navbar',\r\n    directives: [ROUTER_DIRECTIVES, Breadcrumbs],\r\n    providers: [BackendServices],\r\n    pipes: [],\r\n    templateUrl: 'app/html/navbar/navbar.template.html'\r\n})\r\nexport class Navbar {\r\n\r\n    res;\r\n\r\n    currentMenuItem: string = \"Bundles\";\r\n\r\n    private loading = false;\r\n\r\n    subscription: Subscription;\r\n\r\n    breadcrumbs: Breadcrumb[];\r\n\r\n    bundleIdList: string[] = [];\r\n    currentId = \"0\";\r\n    private sub: any;\r\n    private routeParams: any;\r\n    private backendUrl: string;\r\n    private prevExistsFlag: boolean = false;\r\n\r\n    constructor(\r\n        private _router: Router,\r\n        private _backend: BackendServices,\r\n        private _appGlobals: AppGlobals,\r\n        private _breadcrumbsService: BreadcrumbsService\r\n    ) {\r\n\r\n        this._appGlobals._isLoading.subscribe(value => this.loading = value);\r\n\r\n        this._appGlobals._bundleIdList.subscribe(val => this.bundleIdList = val);\r\n        this._appGlobals._routeParams.subscribe(val => this.routeParams = val);\r\n        this._appGlobals._backendUrl.subscribe(val => this.backendUrl = val);\r\n\r\n        this._router.events.subscribe(() => {\r\n            _breadcrumbsService.clear();\r\n            _breadcrumbsService.add(new Breadcrumb(['/bundles'], '<i class=\"fa fa-home\" aria-hidden=\"true\"></i>'));\r\n            var val = this._router.url;\r\n            var segements = val.split('/');\r\n            segements.forEach(segment => {\r\n                if (segment != '') {\r\n                    _breadcrumbsService.add(new Breadcrumb([segment], segment));\r\n                }\r\n            });\r\n            this.breadcrumbs = _breadcrumbsService.getBreadcrumbs();\r\n        });\r\n\r\n    }\r\n\r\n    isLoading(): boolean {\r\n        return this.loading;\r\n    }\r\n\r\n    getBundlesMenuTitle() {\r\n        var bundlesCount: number;\r\n        //this._backend.getBundles().subscribe(res => bundlesCount = res.length);\r\n        return \"Bundles\";//(\" + bundlesCount + \")\";\r\n    }\r\n\r\n    checkActive(menuItem: string) {\r\n        if (menuItem == this.currentMenuItem) {\r\n            return \"nav-item active\";\r\n        }\r\n        return \"nav-item\";\r\n    }\r\n\r\n    onSubmit() {\r\n        this._backend.createSnapshot().subscribe(res => this.res = res);\r\n    }\r\n\r\n    get authenticated() {\r\n        return true;//this.authService.isAuthenticated();\r\n    }\r\n\r\n    doLogin() {\r\n        //this.authService.doLogin();\r\n    }\r\n\r\n    doLogout() {\r\n        //this.authService.doLogout();\r\n    }\r\n\r\n    get userName() {\r\n        return \"admin\";//this.authService.getUserName();\r\n    }\r\n\r\n    get page() {\r\n        return \"\";//this.location.path().split('/')[1];\r\n    }\r\n\r\n    next() {\r\n        this._router.navigate(['/bundles', this.getCurrentBundleIndex(this.routeParams['id']) + 1]);\r\n    }\r\n\r\n    prev() {\r\n        this._router.navigate(['/bundles', this.getCurrentBundleIndex(this.routeParams['id']) - 1]);\r\n    }\r\n\r\n    rawData() {\r\n        return this.backendUrl + \"backend/v1/bundles\";\r\n    }\r\n\r\n    getCurrentBundleIndex(routeParamId): number {\r\n        var index = 0;\r\n        var goto = 0;\r\n        this.bundleIdList.forEach(id => {\r\n            if (id == routeParamId) {\r\n                goto = index;\r\n            }\r\n            index += 1;\r\n        });\r\n        return goto;\r\n    }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}