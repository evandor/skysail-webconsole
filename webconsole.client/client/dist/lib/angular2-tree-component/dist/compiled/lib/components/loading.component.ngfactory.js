/**
 * This file is generated by the Angular 2 template compiler.
 * Do not edit.
 */
/* tslint:disable */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var import1 = require('@angular/core/src/linker/view');
var import2 = require('@angular/core/src/linker/element');
var import3 = require('../../../lib/components/loading.component');
var import4 = require('@angular/core/src/linker/view_utils');
var import6 = require('@angular/core/src/linker/view_type');
var import7 = require('@angular/core/src/change_detection/change_detection');
var import8 = require('@angular/core/src/metadata/view');
var import9 = require('@angular/core/src/linker/component_factory');
var import10 = require('@angular/common/src/directives/ng_if');
var import11 = require('@angular/common/src/directives/ng_template_outlet');
var import12 = require('@angular/core/src/linker/template_ref');
var renderType_LoadingComponent_Host = null;
var _View_LoadingComponent_Host0 = (function (_super) {
    __extends(_View_LoadingComponent_Host0, _super);
    function _View_LoadingComponent_Host0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_LoadingComponent_Host0, renderType_LoadingComponent_Host, import6.ViewType.HOST, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_LoadingComponent_Host0.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.selectOrCreateHostElement('LoadingComponent', rootSelector, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._el_0);
        var compView_0 = viewFactory_LoadingComponent0(this.viewUtils, this.injector(0), this._appEl_0);
        this._LoadingComponent_0_4 = new import3.LoadingComponent();
        this._appEl_0.initComponent(this._LoadingComponent_0_4, [], compView_0);
        compView_0.create(this._LoadingComponent_0_4, this.projectableNodes, null);
        this.init([].concat([this._el_0]), [this._el_0], [], []);
        return this._appEl_0;
    };
    _View_LoadingComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import3.LoadingComponent) && (0 === requestNodeIndex))) {
            return this._LoadingComponent_0_4;
        }
        return notFoundResult;
    };
    return _View_LoadingComponent_Host0;
}(import1.AppView));
function viewFactory_LoadingComponent_Host0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_LoadingComponent_Host === null)) {
        (renderType_LoadingComponent_Host = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, [], {}));
    }
    return new _View_LoadingComponent_Host0(viewUtils, parentInjector, declarationEl);
}
exports.LoadingComponentNgFactory = new import9.ComponentFactory('LoadingComponent', viewFactory_LoadingComponent_Host0, import3.LoadingComponent);
var styles_LoadingComponent = [];
var renderType_LoadingComponent = null;
var _View_LoadingComponent0 = (function (_super) {
    __extends(_View_LoadingComponent0, _super);
    function _View_LoadingComponent0(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_LoadingComponent0, renderType_LoadingComponent, import6.ViewType.COMPONENT, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_LoadingComponent0.prototype.createInternal = function (rootSelector) {
        var parentRenderNode = this.renderer.createViewRoot(this.declarationAppElement.nativeElement);
        this._anchor_0 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_0 = new import2.AppElement(0, null, this, this._anchor_0);
        this._TemplateRef_0_5 = new import12.TemplateRef_(this._appEl_0, viewFactory_LoadingComponent1);
        this._NgIf_0_6 = new import10.NgIf(this._appEl_0.vcRef, this._TemplateRef_0_5);
        this._text_1 = this.renderer.createText(parentRenderNode, '\n  ', null);
        this._anchor_2 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._appEl_2 = new import2.AppElement(2, null, this, this._anchor_2);
        this._TemplateRef_2_5 = new import12.TemplateRef_(this._appEl_2, viewFactory_LoadingComponent2);
        this._NgTemplateOutlet_2_6 = new import11.NgTemplateOutlet(this._appEl_2.vcRef);
        this._expr_0 = import7.UNINITIALIZED;
        this._expr_1 = import7.UNINITIALIZED;
        this.init([], [
            this._anchor_0,
            this._text_1,
            this._anchor_2
        ], [], []);
        return null;
    };
    _View_LoadingComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import12.TemplateRef) && (0 === requestNodeIndex))) {
            return this._TemplateRef_0_5;
        }
        if (((token === import10.NgIf) && (0 === requestNodeIndex))) {
            return this._NgIf_0_6;
        }
        if (((token === import12.TemplateRef) && (2 === requestNodeIndex))) {
            return this._TemplateRef_2_5;
        }
        if (((token === import11.NgTemplateOutlet) && (2 === requestNodeIndex))) {
            return this._NgTemplateOutlet_2_6;
        }
        return notFoundResult;
    };
    _View_LoadingComponent0.prototype.detectChangesInternal = function (throwOnChange) {
        var changes = null;
        var currVal_0 = !this.context.loadingTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_0, currVal_0)) {
            this._NgIf_0_6.ngIf = currVal_0;
            this._expr_0 = currVal_0;
        }
        changes = null;
        var currVal_1 = this.context.loadingTemplate;
        if (import4.checkBinding(throwOnChange, this._expr_1, currVal_1)) {
            this._NgTemplateOutlet_2_6.ngTemplateOutlet = currVal_1;
            if ((changes === null)) {
                (changes = {});
            }
            changes['ngTemplateOutlet'] = new import7.SimpleChange(this._expr_1, currVal_1);
            this._expr_1 = currVal_1;
        }
        if ((changes !== null)) {
            this._NgTemplateOutlet_2_6.ngOnChanges(changes);
        }
        this.detectContentChildrenChanges(throwOnChange);
        this.detectViewChildrenChanges(throwOnChange);
    };
    return _View_LoadingComponent0;
}(import1.AppView));
function viewFactory_LoadingComponent0(viewUtils, parentInjector, declarationEl) {
    if ((renderType_LoadingComponent === null)) {
        (renderType_LoadingComponent = viewUtils.createRenderComponentType('', 0, import8.ViewEncapsulation.None, styles_LoadingComponent, {}));
    }
    return new _View_LoadingComponent0(viewUtils, parentInjector, declarationEl);
}
exports.viewFactory_LoadingComponent0 = viewFactory_LoadingComponent0;
var _View_LoadingComponent1 = (function (_super) {
    __extends(_View_LoadingComponent1, _super);
    function _View_LoadingComponent1(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_LoadingComponent1, renderType_LoadingComponent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_LoadingComponent1.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.renderer.createElement(null, 'span', null);
        this._text_1 = this.renderer.createText(this._el_0, 'loading...', null);
        this.init([].concat([this._el_0]), [
            this._el_0,
            this._text_1
        ], [], []);
        return null;
    };
    return _View_LoadingComponent1;
}(import1.AppView));
function viewFactory_LoadingComponent1(viewUtils, parentInjector, declarationEl) {
    return new _View_LoadingComponent1(viewUtils, parentInjector, declarationEl);
}
var _View_LoadingComponent2 = (function (_super) {
    __extends(_View_LoadingComponent2, _super);
    function _View_LoadingComponent2(viewUtils, parentInjector, declarationEl) {
        _super.call(this, _View_LoadingComponent2, renderType_LoadingComponent, import6.ViewType.EMBEDDED, viewUtils, parentInjector, declarationEl, import7.ChangeDetectorStatus.CheckAlways);
    }
    _View_LoadingComponent2.prototype.createInternal = function (rootSelector) {
        this.init([], [], [], []);
        return null;
    };
    return _View_LoadingComponent2;
}(import1.AppView));
function viewFactory_LoadingComponent2(viewUtils, parentInjector, declarationEl) {
    return new _View_LoadingComponent2(viewUtils, parentInjector, declarationEl);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy5jb21wb25lbnQubmdmYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29tcGlsZWQvbGliL2NvbXBvbmVudHMvbG9hZGluZy5jb21wb25lbnQubmdmYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNGLG9CQUFvQjs7Ozs7OztBQUdyQixJQUFZLE9BQU8sV0FBTSwrQkFBK0IsQ0FBQyxDQUFBO0FBQ3pELElBQVksT0FBTyxXQUFNLGtDQUFrQyxDQUFDLENBQUE7QUFDNUQsSUFBWSxPQUFPLFdBQU0sMkNBQTJDLENBQUMsQ0FBQTtBQUNyRSxJQUFZLE9BQU8sV0FBTSxxQ0FBcUMsQ0FBQyxDQUFBO0FBRS9ELElBQVksT0FBTyxXQUFNLG9DQUFvQyxDQUFDLENBQUE7QUFDOUQsSUFBWSxPQUFPLFdBQU0scURBQXFELENBQUMsQ0FBQTtBQUMvRSxJQUFZLE9BQU8sV0FBTSxpQ0FBaUMsQ0FBQyxDQUFBO0FBQzNELElBQVksT0FBTyxXQUFNLDRDQUE0QyxDQUFDLENBQUE7QUFDdEUsSUFBWSxRQUFRLFdBQU0sc0NBQXNDLENBQUMsQ0FBQTtBQUNqRSxJQUFZLFFBQVEsV0FBTSxtREFBbUQsQ0FBQyxDQUFBO0FBQzlFLElBQVksUUFBUSxXQUFNLHVDQUF1QyxDQUFDLENBQUE7QUFDbEUsSUFBSSxnQ0FBZ0MsR0FBZ0MsSUFBWSxDQUFDO0FBQ2pGO0lBQTJDLGdEQUFvQjtJQUk3RCxzQ0FBWSxTQUEyQixFQUFDLGNBQStCLEVBQUMsYUFBZ0M7UUFDdEcsa0JBQU0sNEJBQTRCLEVBQUMsZ0NBQWdDLEVBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQyxhQUFhLEVBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzdLLENBQUM7SUFDRCxxREFBYyxHQUFkLFVBQWUsWUFBbUI7UUFDaEMsSUFBSSxDQUFD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UyxFQUFDLGNBQWMsRUFBQyxhQUFhLENBQUMsQ0FBQztBQUM3RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBBbmd1bGFyIDIgdGVtcGxhdGUgY29tcGlsZXIuXG4gKiBEbyBub3QgZWRpdC5cbiAqL1xuIC8qIHRzbGludDpkaXNhYmxlICovXG5cbmltcG9ydCAqIGFzIGltcG9ydDAgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvcmVuZGVyL2FwaSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQxIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3JztcbmltcG9ydCAqIGFzIGltcG9ydDIgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL2VsZW1lbnQnO1xuaW1wb3J0ICogYXMgaW1wb3J0MyBmcm9tICcuLi8uLi8uLi9saWIvY29tcG9uZW50cy9sb2FkaW5nLmNvbXBvbmVudCc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ0IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3X3V0aWxzJztcbmltcG9ydCAqIGFzIGltcG9ydDUgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvZGkvaW5qZWN0b3InO1xuaW1wb3J0ICogYXMgaW1wb3J0NiBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlld190eXBlJztcbmltcG9ydCAqIGFzIGltcG9ydDcgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIGltcG9ydDggZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEvdmlldyc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ5IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci9jb21wb25lbnRfZmFjdG9yeSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQxMCBmcm9tICdAYW5ndWxhci9jb21tb24vc3JjL2RpcmVjdGl2ZXMvbmdfaWYnO1xuaW1wb3J0ICogYXMgaW1wb3J0MTEgZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX3RlbXBsYXRlX291dGxldCc7XG5pbXBvcnQgKiBhcyBpbXBvcnQxMiBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdGVtcGxhdGVfcmVmJztcbnZhciByZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnRfSG9zdDppbXBvcnQwLlJlbmRlckNvbXBvbmVudFR5cGUgPSAobnVsbCBhcyBhbnkpO1xuY2xhc3MgX1ZpZXdfTG9hZGluZ0NvbXBvbmVudF9Ib3N0MCBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICAvKnByaXZhdGUqLyBfYXBwRWxfMDppbXBvcnQyLkFwcEVsZW1lbnQ7XG4gIF9Mb2FkaW5nQ29tcG9uZW50XzBfNDppbXBvcnQzLkxvYWRpbmdDb21wb25lbnQ7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfTG9hZGluZ0NvbXBvbmVudF9Ib3N0MCxyZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnRfSG9zdCxpbXBvcnQ2LlZpZXdUeXBlLkhPU1Qsdmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyk7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0Mi5BcHBFbGVtZW50IHtcbiAgICB0aGlzLl9lbF8wID0gdGhpcy5zZWxlY3RPckNyZWF0ZUhvc3RFbGVtZW50KCdMb2FkaW5nQ29tcG9uZW50Jyxyb290U2VsZWN0b3IsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYXBwRWxfMCA9IG5ldyBpbXBvcnQyLkFwcEVsZW1lbnQoMCwobnVsbCBhcyBhbnkpLHRoaXMsdGhpcy5fZWxfMCk7XG4gICAgdmFyIGNvbXBWaWV3XzA6YW55ID0gdmlld0ZhY3RvcnlfTG9hZGluZ0NvbXBvbmVudDAodGhpcy52aWV3VXRpbHMsdGhpcy5pbmplY3RvcigwKSx0aGlzLl9hcHBFbF8wKTtcbiAgICB0aGlzLl9Mb2FkaW5nQ29tcG9uZW50XzBfNCA9IG5ldyBpbXBvcnQzLkxvYWRpbmdDb21wb25lbnQoKTtcbiAgICB0aGlzLl9hcHBFbF8wLmluaXRDb21wb25lbnQodGhpcy5fTG9hZGluZ0NvbXBvbmVudF8wXzQsKFtdIGFzIGFueVtdKSxjb21wVmlld18wKTtcbiAgICBjb21wVmlld18wLmNyZWF0ZSh0aGlzLl9Mb2FkaW5nQ29tcG9uZW50XzBfNCx0aGlzLnByb2plY3RhYmxlTm9kZXMsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5pbml0KChbXSBhcyBhbnlbXSkuY29uY2F0KFt0aGlzLl9lbF8wXSksW3RoaXMuX2VsXzBdLChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSk7XG4gICAgcmV0dXJuIHRoaXMuX2FwcEVsXzA7XG4gIH1cbiAgaW5qZWN0b3JHZXRJbnRlcm5hbCh0b2tlbjphbnkscmVxdWVzdE5vZGVJbmRleDpudW1iZXIsbm90Rm91bmRSZXN1bHQ6YW55KTphbnkge1xuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQzLkxvYWRpbmdDb21wb25lbnQpICYmICgwID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX0xvYWRpbmdDb21wb25lbnRfMF80OyB9XG4gICAgcmV0dXJuIG5vdEZvdW5kUmVzdWx0O1xuICB9XG59XG5mdW5jdGlvbiB2aWV3RmFjdG9yeV9Mb2FkaW5nQ29tcG9uZW50X0hvc3QwKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KTppbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIGlmICgocmVuZGVyVHlwZV9Mb2FkaW5nQ29tcG9uZW50X0hvc3QgPT09IChudWxsIGFzIGFueSkpKSB7IChyZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnRfSG9zdCA9IHZpZXdVdGlscy5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlKCcnLDAsaW1wb3J0OC5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLChbXSBhcyBhbnlbXSkse30pKTsgfVxuICByZXR1cm4gbmV3IF9WaWV3X0xvYWRpbmdDb21wb25lbnRfSG9zdDAodmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwpO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdDb21wb25lbnROZ0ZhY3Rvcnk6aW1wb3J0OS5Db21wb25lbnRGYWN0b3J5PGltcG9ydDMuTG9hZGluZ0NvbXBvbmVudD4gPSBuZXcgaW1wb3J0OS5Db21wb25lbnRGYWN0b3J5PGltcG9ydDMuTG9hZGluZ0NvbXBvbmVudD4oJ0xvYWRpbmdDb21wb25lbnQnLHZpZXdGYWN0b3J5X0xvYWRpbmdDb21wb25lbnRfSG9zdDAsaW1wb3J0My5Mb2FkaW5nQ29tcG9uZW50KTtcbmNvbnN0IHN0eWxlc19Mb2FkaW5nQ29tcG9uZW50OmFueVtdID0gKFtdIGFzIGFueVtdKTtcbnZhciByZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnQ6aW1wb3J0MC5SZW5kZXJDb21wb25lbnRUeXBlID0gKG51bGwgYXMgYW55KTtcbmNsYXNzIF9WaWV3X0xvYWRpbmdDb21wb25lbnQwIGV4dGVuZHMgaW1wb3J0MS5BcHBWaWV3PGltcG9ydDMuTG9hZGluZ0NvbXBvbmVudD4ge1xuICBfYW5jaG9yXzA6YW55O1xuICAvKnByaXZhdGUqLyBfYXBwRWxfMDppbXBvcnQyLkFwcEVsZW1lbnQ7XG4gIF9UZW1wbGF0ZVJlZl8wXzU6YW55O1xuICBfTmdJZl8wXzY6aW1wb3J0MTAuTmdJZjtcbiAgX3RleHRfMTphbnk7XG4gIF9hbmNob3JfMjphbnk7XG4gIC8qcHJpdmF0ZSovIF9hcHBFbF8yOmltcG9ydDIuQXBwRWxlbWVudDtcbiAgX1RlbXBsYXRlUmVmXzJfNTphbnk7XG4gIF9OZ1RlbXBsYXRlT3V0bGV0XzJfNjppbXBvcnQxMS5OZ1RlbXBsYXRlT3V0bGV0O1xuICAvKnByaXZhdGUqLyBfZXhwcl8wOmFueTtcbiAgLypwcml2YXRlKi8gX2V4cHJfMTphbnk7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfTG9hZGluZ0NvbXBvbmVudDAscmVuZGVyVHlwZV9Mb2FkaW5nQ29tcG9uZW50LGltcG9ydDYuVmlld1R5cGUuQ09NUE9ORU5ULHZpZXdVdGlscyxwYXJlbnRJbmplY3RvcixkZWNsYXJhdGlvbkVsLGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDIuQXBwRWxlbWVudCB7XG4gICAgY29uc3QgcGFyZW50UmVuZGVyTm9kZTphbnkgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZpZXdSb290KHRoaXMuZGVjbGFyYXRpb25BcHBFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgIHRoaXMuX2FuY2hvcl8wID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZW1wbGF0ZUFuY2hvcihwYXJlbnRSZW5kZXJOb2RlLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2FwcEVsXzAgPSBuZXcgaW1wb3J0Mi5BcHBFbGVtZW50KDAsKG51bGwgYXMgYW55KSx0aGlzLHRoaXMuX2FuY2hvcl8wKTtcbiAgICB0aGlzLl9UZW1wbGF0ZVJlZl8wXzUgPSBuZXcgaW1wb3J0MTIuVGVtcGxhdGVSZWZfKHRoaXMuX2FwcEVsXzAsdmlld0ZhY3RvcnlfTG9hZGluZ0NvbXBvbmVudDEpO1xuICAgIHRoaXMuX05nSWZfMF82ID0gbmV3IGltcG9ydDEwLk5nSWYodGhpcy5fYXBwRWxfMC52Y1JlZix0aGlzLl9UZW1wbGF0ZVJlZl8wXzUpO1xuICAgIHRoaXMuX3RleHRfMSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dChwYXJlbnRSZW5kZXJOb2RlLCdcXG4gICcsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYW5jaG9yXzIgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRlbXBsYXRlQW5jaG9yKHBhcmVudFJlbmRlck5vZGUsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fYXBwRWxfMiA9IG5ldyBpbXBvcnQyLkFwcEVsZW1lbnQoMiwobnVsbCBhcyBhbnkpLHRoaXMsdGhpcy5fYW5jaG9yXzIpO1xuICAgIHRoaXMuX1RlbXBsYXRlUmVmXzJfNSA9IG5ldyBpbXBvcnQxMi5UZW1wbGF0ZVJlZl8odGhpcy5fYXBwRWxfMix2aWV3RmFjdG9yeV9Mb2FkaW5nQ29tcG9uZW50Mik7XG4gICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYgPSBuZXcgaW1wb3J0MTEuTmdUZW1wbGF0ZU91dGxldCh0aGlzLl9hcHBFbF8yLnZjUmVmKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQ3LlVOSU5JVElBTElaRUQ7XG4gICAgdGhpcy5fZXhwcl8xID0gaW1wb3J0Ny5VTklOSVRJQUxJWkVEO1xuICAgIHRoaXMuaW5pdCgoW10gYXMgYW55W10pLFtcbiAgICAgIHRoaXMuX2FuY2hvcl8wLFxuICAgICAgdGhpcy5fdGV4dF8xLFxuICAgICAgdGhpcy5fYW5jaG9yXzJcbiAgICBdXG4gICAgLChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSk7XG4gICAgcmV0dXJuIChudWxsIGFzIGFueSk7XG4gIH1cbiAgaW5qZWN0b3JHZXRJbnRlcm5hbCh0b2tlbjphbnkscmVxdWVzdE5vZGVJbmRleDpudW1iZXIsbm90Rm91bmRSZXN1bHQ6YW55KTphbnkge1xuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQxMi5UZW1wbGF0ZVJlZikgJiYgKDAgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fVGVtcGxhdGVSZWZfMF81OyB9XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDEwLk5nSWYpICYmICgwID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX05nSWZfMF82OyB9XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDEyLlRlbXBsYXRlUmVmKSAmJiAoMiA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9UZW1wbGF0ZVJlZl8yXzU7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTEuTmdUZW1wbGF0ZU91dGxldCkgJiYgKDIgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzY7IH1cbiAgICByZXR1cm4gbm90Rm91bmRSZXN1bHQ7XG4gIH1cbiAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRocm93T25DaGFuZ2U6Ym9vbGVhbik6dm9pZCB7XG4gICAgdmFyIGNoYW5nZXM6e1trZXk6IHN0cmluZ106aW1wb3J0Ny5TaW1wbGVDaGFuZ2V9ID0gKG51bGwgYXMgYW55KTtcbiAgICBjb25zdCBjdXJyVmFsXzA6Ym9vbGVhbiA9ICF0aGlzLmNvbnRleHQubG9hZGluZ1RlbXBsYXRlO1xuICAgIGlmIChpbXBvcnQ0LmNoZWNrQmluZGluZyh0aHJvd09uQ2hhbmdlLHRoaXMuX2V4cHJfMCxjdXJyVmFsXzApKSB7XG4gICAgICB0aGlzLl9OZ0lmXzBfNi5uZ0lmID0gY3VyclZhbF8wO1xuICAgICAgdGhpcy5fZXhwcl8wID0gY3VyclZhbF8wO1xuICAgIH1cbiAgICBjaGFuZ2VzID0gKG51bGwgYXMgYW55KTtcbiAgICBjb25zdCBjdXJyVmFsXzE6YW55ID0gdGhpcy5jb250ZXh0LmxvYWRpbmdUZW1wbGF0ZTtcbiAgICBpZiAoaW1wb3J0NC5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzEsY3VyclZhbF8xKSkge1xuICAgICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdUZW1wbGF0ZU91dGxldCA9IGN1cnJWYWxfMTtcbiAgICAgIGlmICgoY2hhbmdlcyA9PT0gKG51bGwgYXMgYW55KSkpIHsgKGNoYW5nZXMgPSB7fSk7IH1cbiAgICAgIGNoYW5nZXNbJ25nVGVtcGxhdGVPdXRsZXQnXSA9IG5ldyBpbXBvcnQ3LlNpbXBsZUNoYW5nZSh0aGlzLl9leHByXzEsY3VyclZhbF8xKTtcbiAgICAgIHRoaXMuX2V4cHJfMSA9IGN1cnJWYWxfMTtcbiAgICB9XG4gICAgaWYgKChjaGFuZ2VzICE9PSAobnVsbCBhcyBhbnkpKSkgeyB0aGlzLl9OZ1RlbXBsYXRlT3V0bGV0XzJfNi5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTsgfVxuICAgIHRoaXMuZGV0ZWN0Q29udGVudENoaWxkcmVuQ2hhbmdlcyh0aHJvd09uQ2hhbmdlKTtcbiAgICB0aGlzLmRldGVjdFZpZXdDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2aWV3RmFjdG9yeV9Mb2FkaW5nQ29tcG9uZW50MCh2aWV3VXRpbHM6aW1wb3J0NC5WaWV3VXRpbHMscGFyZW50SW5qZWN0b3I6aW1wb3J0NS5JbmplY3RvcixkZWNsYXJhdGlvbkVsOmltcG9ydDIuQXBwRWxlbWVudCk6aW1wb3J0MS5BcHBWaWV3PGltcG9ydDMuTG9hZGluZ0NvbXBvbmVudD4ge1xuICBpZiAoKHJlbmRlclR5cGVfTG9hZGluZ0NvbXBvbmVudCA9PT0gKG51bGwgYXMgYW55KSkpIHsgKHJlbmRlclR5cGVfTG9hZGluZ0NvbXBvbmVudCA9IHZpZXdVdGlscy5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlKCcnLDAsaW1wb3J0OC5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLHN0eWxlc19Mb2FkaW5nQ29tcG9uZW50LHt9KSk7IH1cbiAgcmV0dXJuIG5ldyBfVmlld19Mb2FkaW5nQ29tcG9uZW50MCh2aWV3VXRpbHMscGFyZW50SW5qZWN0b3IsZGVjbGFyYXRpb25FbCk7XG59XG5jbGFzcyBfVmlld19Mb2FkaW5nQ29tcG9uZW50MSBleHRlbmRzIGltcG9ydDEuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICBfdGV4dF8xOmFueTtcbiAgY29uc3RydWN0b3Iodmlld1V0aWxzOmltcG9ydDQuVmlld1V0aWxzLHBhcmVudEluamVjdG9yOmltcG9ydDUuSW5qZWN0b3IsZGVjbGFyYXRpb25FbDppbXBvcnQyLkFwcEVsZW1lbnQpIHtcbiAgICBzdXBlcihfVmlld19Mb2FkaW5nQ29tcG9uZW50MSxyZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnQsaW1wb3J0Ni5WaWV3VHlwZS5FTUJFRERFRCx2aWV3VXRpbHMscGFyZW50SW5qZWN0b3IsZGVjbGFyYXRpb25FbCxpbXBvcnQ3LkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzKTtcbiAgfVxuICBjcmVhdGVJbnRlcm5hbChyb290U2VsZWN0b3I6c3RyaW5nKTppbXBvcnQyLkFwcEVsZW1lbnQge1xuICAgIHRoaXMuX2VsXzAgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoKG51bGwgYXMgYW55KSwnc3BhbicsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fdGV4dF8xID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHRoaXMuX2VsXzAsJ2xvYWRpbmcuLi4nLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuaW5pdCgoW10gYXMgYW55W10pLmNvbmNhdChbdGhpcy5fZWxfMF0pLFtcbiAgICAgIHRoaXMuX2VsXzAsXG4gICAgICB0aGlzLl90ZXh0XzFcbiAgICBdXG4gICAgLChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSk7XG4gICAgcmV0dXJuIChudWxsIGFzIGFueSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X0xvYWRpbmdDb21wb25lbnQxKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KTppbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIHJldHVybiBuZXcgX1ZpZXdfTG9hZGluZ0NvbXBvbmVudDEodmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwpO1xufVxuY2xhc3MgX1ZpZXdfTG9hZGluZ0NvbXBvbmVudDIgZXh0ZW5kcyBpbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KSB7XG4gICAgc3VwZXIoX1ZpZXdfTG9hZGluZ0NvbXBvbmVudDIscmVuZGVyVHlwZV9Mb2FkaW5nQ29tcG9uZW50LGltcG9ydDYuVmlld1R5cGUuRU1CRURERUQsdmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyk7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0Mi5BcHBFbGVtZW50IHtcbiAgICB0aGlzLmluaXQoKFtdIGFzIGFueVtdKSwoW10gYXMgYW55W10pLChbXSBhcyBhbnlbXSksKFtdIGFzIGFueVtdKSk7XG4gICAgcmV0dXJuIChudWxsIGFzIGFueSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZpZXdGYWN0b3J5X0xvYWRpbmdDb21wb25lbnQyKHZpZXdVdGlsczppbXBvcnQ0LlZpZXdVdGlscyxwYXJlbnRJbmplY3RvcjppbXBvcnQ1LkluamVjdG9yLGRlY2xhcmF0aW9uRWw6aW1wb3J0Mi5BcHBFbGVtZW50KTppbXBvcnQxLkFwcFZpZXc8YW55PiB7XG4gIHJldHVybiBuZXcgX1ZpZXdfTG9hZGluZ0NvbXBvbmVudDIodmlld1V0aWxzLHBhcmVudEluamVjdG9yLGRlY2xhcmF0aW9uRWwpO1xufSJdfQ==